package br.com.feob.cadastro;

import java.awt.Color;
import java.awt.Dimension;
import java.awt.FlowLayout;
import java.awt.GridLayout;

import javax.jws.Oneway;
import javax.swing.ButtonGroup;
import javax.swing.JButton;
import javax.swing.JComboBox;
import javax.swing.JFormattedTextField;
import javax.swing.JFormattedTextField.AbstractFormatterFactory;
import javax.swing.ImageIcon;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JRadioButton;
import javax.swing.JScrollPane;
import javax.swing.JTable;
import javax.swing.JTextField;
import javax.swing.JFormattedTextField.AbstractFormatter;
import javax.swing.Spring;
import javax.swing.SpringLayout;
import javax.swing.table.DefaultTableModel;
import javax.swing.text.MaskFormatter;

import br.com.feob.layout.SpringUtilities;
import br.com.feob.renderer.ActionButtons;

public class PlanoContas extends JFrame{

	/**
	 * Arrays
	 * 
	 * */
	private String[] column = {"Conta", "Descrição", "Tipo", "Ação"};
	private String[][] planoContas = {
										{"01.01.01", "Caixa", "Analítica"},
										{"01.01.01", "Caixa", "Analítica"}
									};
	private String[] itensTipoConta = {"Ativo Circulante", 
										"Ativo Não Circulante",
										"Passivo Circulante", 
										"Passivo Não Circulante",
										"Patrimônio Líquido",
										"DRE"};
	
	private String[] labelsForm = {"Conta", "Descrição", "Tipo Conta", "Nível"};
	private int numPairs = labelsForm.length;
	
	/**
	 * Componentes
	 * 
	 * */
	private JLabel lbPlanoContas = new JLabel("Plano de contas", JLabel.LEFT);
	private JLabel lbConta = new JLabel("Conta");
	private JLabel lbDescricao = new JLabel("Descrição");
	private JLabel lbTipoConta = new JLabel("Tipo conta");
	private JLabel lbNivel = new JLabel("Nível");
	private JFormattedTextField txtConta = new JFormattedTextField();
	private JTextField txtDescricao = new JTextField(10);
	private JComboBox<String> cbTipoConta = new JComboBox<String>(itensTipoConta);
	private ButtonGroup bgTipo = new ButtonGroup();
	private JRadioButton rbAnalitica = new JRadioButton();
	private JRadioButton rbSintetica = new JRadioButton();
	private JButton btnSalvar = new JButton("Salvar");
	private JButton btnEditar = new JButton("Editar");
	private JButton btnCancelar = new JButton("Cancelar");
	
	private JTable tbPlanoContas = new JTable();
	private JScrollPane spPlanoContas = new JScrollPane(tbPlanoContas);
	
	private SpringLayout layoutForm = new SpringLayout();
	private JPanel pnForm = new JPanel();
	private JPanel pnTable = new JPanel();
	private JPanel pnRadios = new JPanel(new FlowLayout());
	private JPanel pnButtons = new JPanel(new FlowLayout());

	
	/**
	 * Constructor	
	 * 
	 * */
	public PlanoContas() {
		this.setTitle("Plano de contas");
		this.setSize(500, 500);
		this.setLayout(new GridLayout(2,1));
		this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		
		
		/**
		 * 
		 * Configurações
		 * 
		 * 
		 * */
		btnSalvar.setIcon(new ImageIcon(getClass().getResource("/assets/images/save.png")));
		btnSalvar.setFocusable(false);
		btnEditar.setIcon(new ImageIcon(getClass().getResource("/assets/images/edit.png")));
		btnEditar.setFocusable(false);
		btnCancelar.setIcon(new ImageIcon(getClass().getResource("/assets/images/cancel.png")));
		btnCancelar.setFocusable(false);
		
		
		/**
		 * Table
		 * 
		 * */
		tbPlanoContas.setModel(new DefaultTableModel(
	            new Object [][] {},
	                new String [] {
	                    "Conta", "Descrição", "Tipo Conta", "Ação"
	                }
	            ));
		
		tbPlanoContas.setSize(430, 400);
		spPlanoContas.setSize(430, 400);
		tbPlanoContas.setShowGrid(true);
		tbPlanoContas.setShowVerticalLines(true);
		tbPlanoContas.setShowHorizontalLines(true);
		tbPlanoContas.setGridColor(new Color(204,204,204));
		tbPlanoContas.getColumnModel().getColumn(0).setMinWidth(80);
		tbPlanoContas.getColumnModel().getColumn(0).setMaxWidth(80);
		tbPlanoContas.getColumnModel().getColumn(1).setMinWidth(150);
		tbPlanoContas.getColumnModel().getColumn(1).setMaxWidth(150);
		tbPlanoContas.getColumnModel().getColumn(2).setMinWidth(100);
		tbPlanoContas.getColumnModel().getColumn(2).setMaxWidth(100);
		tbPlanoContas.getColumnModel().getColumn(3).setMinWidth(100);
		tbPlanoContas.getColumnModel().getColumn(3).setMaxWidth(100);
		
		pnTable.setLayout(new FlowLayout());
		pnTable.add(lbPlanoContas);
		pnTable.add(spPlanoContas);
		
		/**
		 * Formulário
		 * 
		 * */
		pnForm.setSize(200,150);
		pnForm.setLayout(layoutForm);
		pnForm.add(lbConta);
		
		try {
            txtConta.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##.##.##")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
		txtConta.setMaximumSize(new Dimension(5, 10));
		pnForm.add(txtConta);
		pnForm.add(lbDescricao);
		pnForm.add(txtDescricao);
		pnForm.add(lbTipoConta);
		pnForm.add(cbTipoConta);
		pnForm.add(lbNivel);
		bgTipo.add(rbAnalitica);
		bgTipo.add(rbSintetica);
		rbSintetica.setText("Sintético");
		rbAnalitica.setText("Analítica");
		pnRadios.add(rbSintetica);
		pnRadios.add(rbAnalitica);
		pnForm.add(pnRadios);
		pnButtons.add(btnSalvar);
		pnButtons.add(btnEditar);
		pnButtons.add(btnCancelar);
		pnForm.add(new JLabel(""));
		pnForm.add(pnButtons);
	
		SpringUtilities.makeCompactGrid(pnForm,5,2,10,10,10,10);
		
		this.add(pnForm);
		this.setVisible(true);
	}	
}